#!/usr/bin/env zsh
# Disk usage script - shows used/total(percentage)

# Get disk info for root filesystem
line=$(df -h / | tail -1)  # Get last line (the actual data)
full=$(df)

# Extract values
used=$(echo "$line" | awk '{print $3}' | sed 's/[A-Z]//g')
total=$(echo "$line" | awk '{print $2}' | sed 's/[A-Z]//g')
perc=$(echo "$line" | awk '{print $5}' | sed 's/%//')

echo "$used/$total($perc%)"
case $BLOCK_BUTTON in 
	1) st -e bash -ic 'df -h; echo "Press Enter to close..."; read';;
	2) st -e sh -c "vim ~/.config/dwmblocks-async/scripts/disc";;
esac
